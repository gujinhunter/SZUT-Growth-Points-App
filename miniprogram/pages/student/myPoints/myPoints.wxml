<view class="container">
  <!-- 顶部积分概览 -->
  <view class="points-summary">
    <view class="summary-bg"></view>
    <view class="summary-content">
      <text class="title">我的积分</text>
      <view class="score-row">
        <text class="score">{{totalPoints}}</text>
        <text class="unit">分</text>
      </view>
    </view>
  </view>

  <!-- 统计卡片 -->
  <view class="stats-card">
    <view class="stats-item">
      <text class="stats-label">学院平均</text>
      <text class="stats-value">{{averagePoints}} 分</text>
    </view>
    <view class="stats-divider"></view>
    <view class="stats-item">
      <text class="stats-label">当前排名</text>
      <text class="stats-value">第 {{rank}} 名</text>
    </view>
  </view>

  <!-- 积分明细标题 -->
  <view class="section-title">
    <text>积分明细</text>
  </view>

  <!-- 积分明细列表 -->
  <block wx:if="{{detail.length > 0}}">
    <block wx:for="{{detail}}" wx:key="index">
      <view class="record-card">
        <view class="record-left">
          <text class="record-name">{{item.projectName}}</text>
          <text class="record-date" wx:if="{{item.createTime}}">{{item.createTime}}</text>
        </view>
        <view class="record-right">
          <text class="record-score plus">+{{item.points}}</text>
        </view>
      </view>
    </block>
  </block>

  <!-- 没有积分记录时 -->
  <view wx:else class="empty">
    暂无积分记录
  </view>
</view>